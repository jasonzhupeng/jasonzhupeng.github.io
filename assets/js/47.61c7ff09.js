(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{481:function(s,t,n){"use strict";n.r(t);var a=n(2),e=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("使用"),t("code",[s._v("vuepress-theme-reco@1.6")]),s._v("搭建个人博客，当Markdown命名含有汉字或非ASCII字符的时候会报如下错误\n"),t("img",{attrs:{src:s.$withBase("/images/wxjt_161.png")}}),s._v("\n地址栏输入路径发现也还是报错\n"),t("img",{attrs:{src:s.$withBase("/images/wx_162.png")}})]),s._v(" "),t("p",[s._v("经过多番查找发现是"),t("code",[s._v("vuepress-theme-reco")]),s._v("框架对非ASCII字符命名的路径，路由进入的时候做了拦截\n"),t("img",{attrs:{src:s.$withBase("/images/wx_163.png")}})]),s._v(" "),t("p",[s._v("解读这段代码，因为每次跳转路由的时候，都会先判断解码后的路径和原路径是否相等，不相等则跳转到解码后的路径。结果就造成了路由的反复跳转，\n最后报异常：堆栈溢出，"),t("font",{attrs:{color:"red"}},[s._v("RangeError: Maximum call stack size exceeded")])],1),s._v(" "),t("p",[s._v("解决方式就是找到"),t("code",[s._v("vuepress-theme-reco")]),s._v("模块下helpers/other.js文件，将拦截判断注释，变成如下代码")]),s._v(" "),t("div",{staticClass:"language-ts line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ts"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fixRouterError404")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("router"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  router"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("beforeEach")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("to"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" from"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" next"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// // 解决非ASCII文件名的路由, 防止 404")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// const decodedPath = decodeURIComponent(to.path)")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// if (decodedPath !== to.path) {")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   next(Object.assign({}, to, {")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//     fullPath: decodeURIComponent(to.fullPath),")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//     path: decodedPath")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   }))")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// } else {")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   next()")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// }")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("next")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("p",[s._v("重新运行，就可以正常跳转了。。")])])}),[],!1,null,null,null);t.default=e.exports}}]);